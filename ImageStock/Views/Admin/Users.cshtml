@using Microsoft.EntityFrameworkCore
@using ImageStock.Data.Models

@{ViewBag.Title = "Адміністрування";}

@*<link rel="stylesheet" type="text/css" href="~/styles/bootstrap.min.css" />
    <script src="~/scripts/jquery-3.5.1.min.js"></script>
    <script src="~/scripts/bootstrap.min.js"></script>
    <script src="~/scripts/main.js"></script>*@

<div class="mt-3 mx-1">
    <h3 class="ml-2">Зареєстровані користувачі</h3>
    <table class="table mt-4">
        <thead>
            <tr>
                <th scope="col">id</th>
                <th scope="col">Ім'я користувача</th>
                <th scope="col">Пароль</th>
                <th scope="col">Опції</th>
            </tr>
        </thead>
        <tbody>
            @{
                DbSet<UserProfile> users = ViewData["Users"] as DbSet<UserProfile>;
                if (users != null)
                {
                    foreach (UserProfile user in users)
                    {
                        <tr>
                            <td>@user.Id</td>
                            <td>@user.Username</td>
                            <td>@user.PwdHash</td>
                            <td>
                                <button class="btn btn-primary">Увійти</button>
                                @{
                                    if (!user.IsAdmin)
                                    {
                                        <button class="btn btn-danger">Видалити</button>
                                    }
                                    else
                                    {
                                        <button disabled class="btn btn-danger">Видалити</button>
                                    }
                                }
                            </td>
                        </tr>
                    }
                }
            }
        </tbody>
    </table>
</div>